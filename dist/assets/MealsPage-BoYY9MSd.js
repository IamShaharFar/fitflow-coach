import{b as x,d as h,j as e}from"./index-Cb54uHzU.js";import{u as j,I as p,B as b}from"./Input-Cdi0hLWf.js";import{u as f,a}from"./api-D8uYHb8c.js";import{u as y}from"./useMutation-BXeQrlHL.js";import{T as g,a as r,b as n}from"./Table-BfCa49od.js";function w(){var t;const i=x(),{show:l}=h(),d=f({queryKey:["meals"],queryFn:a.trainee.meals.list}),{register:o,handleSubmit:c,reset:u}=j({defaultValues:{text:""}}),m=y({mutationFn:s=>a.trainee.meals.create(s),onSuccess:()=>{i.invalidateQueries({queryKey:["meals"]}),l("הארוחה נוספה"),u()}});return e.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"ארוחות"}),e.jsxs("form",{onSubmit:c(s=>m.mutate(s.text)),className:"flex gap-2",children:[e.jsx(p,{placeholder:"מה אכלתי...",maxLength:200,...o("text",{required:!0})}),e.jsx(b,{type:"submit",children:"הוסף"})]}),e.jsx("div",{className:"bg-green-100 border border-green-300 rounded-2xl p-4 shadow-md",children:e.jsxs(g,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx(r,{children:"תאריך ושעה"}),e.jsx(r,{children:"תיאור"})]})}),e.jsx("tbody",{children:(t=d.data)==null?void 0:t.map(s=>e.jsxs("tr",{children:[e.jsx(n,{children:new Date(s.createdAt).toLocaleString("he-IL")}),e.jsx(n,{className:"font-medium",children:s.text})]},s.id))})]})})]})}export{w as default};
