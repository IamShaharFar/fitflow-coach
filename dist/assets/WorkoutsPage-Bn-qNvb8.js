import{b as h,d as x,j as e}from"./index-Cb54uHzU.js";import{u as j,I as a,B as y}from"./Input-Cdi0hLWf.js";import{u as b,a as o}from"./api-D8uYHb8c.js";import{u as f}from"./useMutation-BXeQrlHL.js";import{T as g,a as i,b as d}from"./Table-BfCa49od.js";function I(){var s;const n=h(),{show:u}=x(),c=b({queryKey:["workouts"],queryFn:o.trainee.workouts.list}),{register:r,handleSubmit:l,reset:m}=j({defaultValues:{type:"",createdAt:new Date().toISOString().slice(0,16)}}),p=f({mutationFn:t=>o.trainee.workouts.create({type:t.type,createdAt:new Date(t.createdAt).toISOString()}),onSuccess:()=>{n.invalidateQueries({queryKey:["workouts"]}),u("האימון נוסף"),m({type:"",createdAt:new Date().toISOString().slice(0,16)})}});return e.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"אימונים"}),e.jsxs("form",{onSubmit:l(t=>p.mutate(t)),className:"grid md:grid-cols-[2fr_1fr_auto] gap-2",children:[e.jsx(a,{type:"datetime-local",...r("createdAt",{required:!0})}),e.jsx(a,{placeholder:"סוג אימון, למשל ריצה",...r("type",{required:!0})}),e.jsx(y,{type:"submit",children:"הוסף"})]}),e.jsx("div",{className:"bg-blue-100 border border-blue-300 rounded-2xl p-4 shadow-md",children:e.jsxs(g,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx(i,{children:"תאריך ושעה"}),e.jsx(i,{children:"סוג אימון"})]})}),e.jsx("tbody",{children:(s=c.data)==null?void 0:s.map(t=>e.jsxs("tr",{children:[e.jsx(d,{children:new Date(t.createdAt).toLocaleString("he-IL")}),e.jsx(d,{className:"font-medium",children:t.type})]},t.id))})]})})]})}export{I as default};
